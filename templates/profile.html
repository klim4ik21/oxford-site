<!-- templates/profile.html -->
{% extends 'base.html' %}


{% block content %}
    <h1>profile Page</h1>
    <div class="post-form">
        <form method="post" action="{{ url_for('img_avatar_update') }}" enctype="multipart/form-data">
        <input type="file" name="img_avatar" class="avatar-image-input">
        <button type="submit" class="post-submit-btn">Update Avatar</button>
    </form>
</div>
<h1>
</h1>
        {% if avatar %}
            <img src="{{ avatar }}" alt="Post image", style="max-width: 20%; max-height: 20%;"\n>
        {% endif %}
    <p>Welcome, {{ user.username }}!</p>
    {% if is_online %}
    <p>Онлайн</p>
{% else %}
    <p>Был в сети: {{ user.last_seen.strftime('%Y-%m-%d %H:%M:%S') }}</p>
{% endif %}
    <!-- Отображение другой информации о пользователе -->
    <p>Email: {{ user.email }}</p>
    <!-- Дополнительные детали профиля -->

 <!-- Friends Section -->
 {% if friends %}
 <div class="friends-section">
     <h2>Друзья:</h2>
     <ul>
         {% for friend in friends %}
             <li>{{ friend }}</li>
         {% endfor %}
     </ul>
 </div>
{% endif %}

<!-- Friend Requests Section -->
{% if friend_requests %}
 <div class="friend-requests-section">
     <h3>Запросы:</h3>
     {% for request in friend_requests %}
         <div class="friend-request">
             <p>Запрос от {{ request.sender_username }}</p>
             <form action="{{ url_for('respond_friend_request', request_id=request.request_id) }}" method="post">
                 <button name="response" value="accepted" type="submit" class="btn btn-success">Принять</button>
                 <button name="response" value="declined" type="submit" class="btn btn-danger">Отклонить</button>
             </form>
         </div>
     {% endfor %}
 </div>
{% endif %}
{% endblock %}